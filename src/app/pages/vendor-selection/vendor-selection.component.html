<div
    class="min-h-screen bg-repeat bg-center bg-[url('https://augest.wpbingosite.com/wp-content/uploads/2024/09/back-17.jpg')] pt-16 pb-8 px-4">
    <div class="max-w-7xl mx-auto">
        <!-- Back Button -->
        <button (click)="goBack()"
            class="mb-6 flex items-center gap-1.5 text-gray-500 hover:text-[#e87f2c] transition-colors font-bold uppercase text-[9px] tracking-widest group">
            <svg xmlns="http://www.w3.org/2000/svg"
                class="h-3 w-3 transform group-hover:-translate-x-1 transition-transform" fill="none"
                viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7" />
            </svg>
            Back
        </button>
        <!-- Sticky Header - More compact -->
        <div class="sticky top-16 z-40 mb-10" data-aos="fade-down">
            <div
                class="bg-white/90 backdrop-blur-xl rounded-[2rem] p-4 shadow-xl border border-white/50 flex flex-col lg:flex-row items-center justify-between gap-4">
                <div class="flex flex-col sm:flex-row items-center gap-6">
                    <div>
                        <h1 class="text-xl font-bold text-gray-900 main-font">Catering <span
                                class="text-[#e87f2c]">Partners</span></h1>
                        <p class="text-gray-500 text-[11px] font-medium leading-none">Select your Primary Partner</p>
                    </div>

                    <div class="h-10 w-px bg-gray-200 hidden sm:block"></div>

                    <div class="flex items-center gap-4">
                        <div class="flex -space-x-3">
                            <div *ngFor="let vendor of vendors | slice:0:3"
                                class="w-10 h-10 rounded-full border-2 border-white overflow-hidden shadow-sm">
                                <img [src]="vendor.image" class="w-full h-full object-cover">
                            </div>
                            <div
                                class="w-10 h-10 rounded-full border-2 border-white bg-[#e87f2c] flex justify-center items-center text-white text-[10px] font-bold">
                                +{{vendors.length > 3 ? vendors.length - 3 : 0}}
                            </div>
                        </div>
                        <p class="text-[10px] font-bold text-gray-400">
                            Available: <span class="text-[#e87f2c] font-black">{{vendors.length}}</span>
                        </p>
                    </div>
                </div>

                <div class="flex items-center gap-4 w-full lg:w-auto">
                    <div *ngIf="primaryVendor"
                        class="hidden md:flex items-center gap-2 px-3 py-1.5 bg-orange-50 rounded-xl border border-orange-100">
                        <img [src]="primaryVendor.image" class="w-6 h-6 rounded-full object-cover">
                        <span
                            class="text-[11px] font-bold text-gray-700 truncate max-w-[100px]">{{primaryVendor.name}}</span>
                    </div>

                    <button (click)="proceed()" [disabled]="!primaryVendor"
                        class="flex-grow lg:flex-none px-8 py-3 bg-[#e87f2c] text-white rounded-xl font-bold text-sm shadow-lg shadow-orange-500/20 hover:bg-[#af6429] transition-all disabled:opacity-50 flex items-center justify-center gap-3">
                        Proceed To Checkout
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 8l4 4m0 0l-4 4m4-4H3" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Vendors Grid - More compact -->
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
            <div *ngFor="let vendor of vendors" (click)="selectVendor(vendor)"
                [class]="primaryVendor === vendor ? 'border-[#e87f2c] ring-2 ring-orange-100 bg-orange-50/20' : 'border-gray-100 bg-white/90'"
                class="group relative rounded-[2rem] overflow-hidden shadow-sm hover:shadow-xl transition-all duration-500 border-2 cursor-pointer flex flex-col h-full"
                data-aos="fade-up">

                <!-- Selection Badge - Smaller -->
                <div *ngIf="primaryVendor === vendor"
                    class="absolute top-4 right-4 bg-[#e87f2c] text-white px-3 py-1.5 rounded-xl text-[8px] font-black tracking-widest z-10 shadow-lg flex items-center gap-1.5">
                    <span class="w-1.5 h-1.5 bg-white rounded-full"></span>
                    PRIMARY
                </div>

                <!-- Image Container - Reduced height -->
                <div class="relative h-60 overflow-hidden">
                    <img [src]="vendor.image" [alt]="vendor.name"
                        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/10 to-transparent"></div>

                    <div class="absolute bottom-4 left-4 right-4 flex justify-between items-end">
                        <div>
                            <p class="text-orange-400 font-black uppercase text-[8px] tracking-[0.2em] mb-0.5">
                                {{vendor.cuisine}}</p>
                            <h3 class="text-xl font-bold text-white leading-tight">{{vendor.name}}</h3>
                        </div>
                        <div
                            class="bg-white/20 backdrop-blur-md px-2 py-0.5 rounded-lg flex items-center gap-1.5 border border-white/30">
                            <span class="text-yellow-400 text-sm">★</span>
                            <span class="font-bold text-white text-[11px]">{{vendor.rating}}</span>
                        </div>
                    </div>
                </div>

                <!-- Vendor Info -->
                <div class="p-6 space-y-4 flex flex-col flex-grow">
                    <div class="grid grid-cols-2 gap-4 bg-gray-50/50 p-4 rounded-2xl border border-gray-100">
                        <div>
                            <p class="text-[8px] text-gray-400 font-black uppercase tracking-widest mb-0.5">Starting</p>
                            <p class="text-lg font-bold text-gray-800">₹{{vendor.pricePerPlate}}<span
                                    class="text-[10px] text-gray-400 font-medium lowercase">/plate</span></p>
                        </div>
                        <div class="text-right">
                            <p class="text-[8px] text-gray-400 font-black uppercase tracking-widest mb-0.5">Level</p>
                            <p class="text-lg font-bold text-gray-800">Premium</p>
                        </div>
                    </div>

                    <div class="space-y-2 flex-grow">
                        <div class="flex items-center gap-2 text-gray-600">
                            <div
                                class="w-5 h-5 bg-green-100 rounded-full flex justify-center items-center text-green-600 text-[8px]">
                                ✓</div>
                            <span class="text-[11px] font-medium">Full Buffet Setup Included</span>
                        </div>
                        <div class="flex items-center gap-2 text-gray-600">
                            <div
                                class="w-5 h-5 bg-green-100 rounded-full flex justify-center items-center text-green-600 text-[8px]">
                                ✓</div>
                            <span class="text-[11px] font-medium">Professional Serving Staff</span>
                        </div>
                    </div>

                    <div [class]="primaryVendor === vendor ? 'bg-[#e87f2c] text-white border-transparent' : 'bg-transparent text-[#e87f2c] border-[#e87f2c]/20 hover:bg-[#e87f2c] hover:text-white'"
                        class="w-full py-3.5 rounded-xl font-black uppercase text-[9px] tracking-[0.2em] transition-all border-2 mt-2 text-center shadow-sm">
                        {{primaryVendor === vendor ? 'Deselect Vendor' : 'Partner with Them'}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>